<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>é›†æˆåˆ°ç°æœ‰åŸç”Ÿåº”ç”¨ Â· React Native ä¸­æ–‡ç½‘</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;div class=&quot;integration-toggler&quot;&gt;"/><meta name="docsearch:version" content="0.49"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="é›†æˆåˆ°ç°æœ‰åŸç”Ÿåº”ç”¨ Â· React Native ä¸­æ–‡ç½‘"/><meta property="og:type" content="website"/><meta property="og:url" content="undefined/"/><meta property="og:description" content="&lt;div class=&quot;integration-toggler&quot;&gt;"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/highlight.js@9.18.1/styles/solarized-dark.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-63485149-4', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/focus-visible@5.0.2/dist/focus-visible.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/js/codeblocks.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/js/tabs.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/js/doccode0325.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/js/snack.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/js/scrollSpy.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/css/prism.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/css/main.css"/><script src="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="https://cdn.jsdelivr.net/gh/reactnativecn/react-native-website@gh-pages/img/header_logo.svg" alt="React Native ä¸­æ–‡ç½‘"/><h2 class="headerTitleWithLogo">React Native ä¸­æ–‡ç½‘</h2></a><a href="/versions"><h3>0.49</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/0.49/getting-started" target="_self">æ–‡æ¡£</a></li><li class="siteNavGroupActive"><a href="/docs/0.49/activityindicator" target="_self">API</a></li><li class=""><a href="//github.com/reactnativecn/react-native-website/issues" target="_blank">è®¨è®º</a></li><li class=""><a href="//pushy.reactnative.cn" target="_blank">çƒ­æ›´æ–°</a></li><li class=""><a href="/about" target="_self">å…³äº</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/facebook/react-native" target="_self">GitHub</a></li><li class=""><a href="//zh-hans.reactjs.org/" target="_blank">React</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>â€º</i><span>è¿›é˜¶æŒ‡å—</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">å…¥é—¨åŸºç¡€<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/0.49/getting-started">æ­å»ºå¼€å‘ç¯å¢ƒ</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/tutorial">ç¼–å†™Hello World</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/props">Propsï¼ˆå±æ€§ï¼‰</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/state">Stateï¼ˆçŠ¶æ€ï¼‰</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/style">æ ·å¼</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/height-and-width">é«˜åº¦ä¸å®½åº¦</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/layout-with-flexbox">ä½¿ç”¨Flexboxå¸ƒå±€</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/handling-text-input">å¤„ç†æ–‡æœ¬è¾“å…¥</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/using-a-scrollview">å¦‚ä½•ä½¿ç”¨æ»šåŠ¨è§†å›¾</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/using-a-listview">å¦‚ä½•ä½¿ç”¨é•¿åˆ—è¡¨</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/network">ç½‘ç»œ</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/more-resources">å…¶ä»–å‚è€ƒèµ„æº</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">è¿›é˜¶æŒ‡å—<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/0.49/integration-with-existing-apps">é›†æˆåˆ°ç°æœ‰åŸç”Ÿåº”ç”¨</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/navigation">ä½¿ç”¨å¯¼èˆªå™¨è·³è½¬é¡µé¢</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/colors">é¢œè‰²</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/images">å›¾ç‰‡</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/handling-touches">å¤„ç†è§¦æ‘¸äº‹ä»¶</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/animations">åŠ¨ç”»</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/accessibility">æ— éšœç¢åŠŸèƒ½</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/timers">å®šæ—¶å™¨</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/direct-manipulation">ç›´æ¥æ“ä½œ</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/debugging">è°ƒè¯•</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/testing">è‡ªåŠ¨åŒ–æµ‹è¯•</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/javascript-environment">JavaScriptç¯å¢ƒ</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/performance">æ€§èƒ½</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/upgrading">å‡çº§</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/platform-specific-code">ç‰¹å®šå¹³å°ä»£ç </a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/gesture-responder-system">æ‰‹åŠ¿å“åº”ç³»ç»Ÿ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ä½¿ç”¨æŒ‡å—(iOS)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/0.49/native-modules-ios">åŸç”Ÿæ¨¡å—</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/native-component-ios">åŸç”ŸUIç»„ä»¶</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/linking-libraries-ios">é“¾æ¥åŸç”Ÿåº“</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/running-on-device-ios">åœ¨è®¾å¤‡ä¸Šè¿è¡Œ</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/running-on-simulator-ios">åœ¨æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œ</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/communication-ios">å’ŒåŸç”Ÿç«¯é€šä¿¡</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/app-extensions">iOSåº”ç”¨æ‰©å±•</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ä½¿ç”¨æŒ‡å—(Android)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/0.49/native-modules-android">åŸç”Ÿæ¨¡å—</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/native-component-android">åŸç”ŸUIç»„ä»¶</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/headless-js-android">Headless JSï¼ˆåå°ä»»åŠ¡ï¼‰</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/running-on-device-android">åœ¨è®¾å¤‡ä¸Šè¿è¡Œ</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/signed-apk-android">æ‰“åŒ…APK</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/android-ui-performance">è°ƒè¯•Android UIæ€§èƒ½</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/android-building-from-source">ä»æºä»£ç ç¼–è¯‘React Native</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/communication-android">å’ŒåŸç”Ÿç«¯é€šä¿¡</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ç»„ä»¶<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/0.49/accessibilityinfo">AccessibilityInfo</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/activityindicator">ActivityIndicator</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/button">Button</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/checkbox">CheckBox</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/datepickerios">DatePickerIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/drawerlayoutandroid">DrawerLayoutAndroid</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/flatlist">FlatList</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/image">Image</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/keyboardavoidingview">KeyboardAvoidingView</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/listview">ListView</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/listviewdatasource">ListView.DataSource</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/maskedviewios">MaskedViewIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/modal">Modal</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/navigatorios">NavigatorIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/picker">Picker</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/pickerios">PickerIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/progressbarandroid">ProgressBarAndroid</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/progressviewios">ProgressViewIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/refreshcontrol">RefreshControl</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/scrollview">ScrollView</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/sectionlist">SectionList</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/segmentedcontrolios">SegmentedControlIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/slider">Slider</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/statusbar">StatusBar</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/switch">Switch</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/tabbarios">TabBarIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/tabbarios-item">TabBarIOS.Item</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/text">Text</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/textinput">TextInput</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/toolbarandroid">ToolbarAndroid</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/touchablehighlight">TouchableHighlight</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/touchablenativefeedback">TouchableNativeFeedback</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/touchableopacity">TouchableOpacity</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/touchablewithoutfeedback">TouchableWithoutFeedback</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/view">View</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/viewpagerandroid">ViewPagerAndroid</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/virtualizedlist">VirtualizedList</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/webview">WebView</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">API<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/0.49/actionsheetios">ActionSheetIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/alert">Alert</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/alertios">AlertIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/animated">Animated</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/appregistry">AppRegistry</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/appstate">AppState</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/asyncstorage">AsyncStorage</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/backandroid">BackAndroid</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/backhandler">BackHandler</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/cameraroll">CameraRoll</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/clipboard">Clipboard</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/datepickerandroid">DatePickerAndroid</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/dimensions">Dimensions</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/easing">Easing</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/geolocation">Geolocation</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/imageeditor">ImageEditor</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/imagepickerios">ImagePickerIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/imagestore">ImageStore</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/interactionmanager">InteractionManager</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/keyboard">Keyboard</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/layoutanimation">LayoutAnimation</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/linking">Linking</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/nativemethodsmixin">NativeMethodsMixin</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/netinfo">NetInfo</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/panresponder">PanResponder</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/permissionsandroid">PermissionsAndroid</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/pixelratio">PixelRatio</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/pushnotificationios">PushNotificationIOS</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/share">Share</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/stylesheet">StyleSheet</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/systrace">Systrace</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/timepickerandroid">TimePickerAndroid</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/toastandroid">ToastAndroid</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/vibration">Vibration</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/layout-props">å¸ƒå±€æ ·å¼å±æ€§</a></li><li class="navListItem"><a class="navItem" href="/docs/0.49/shadow-props">é˜´å½±æ ·å¼å±æ€§</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="//github.com/reactnativecn/react-native-website/blob/production/cndocs/integration-with-existing-apps.md" target="_blank" rel="noreferrer noopener">å¸®åŠ©æ”¹è¿›æ­¤æ–‡æ¡£</a><h1 id="__docusaurus" class="postHeaderTitle">é›†æˆåˆ°ç°æœ‰åŸç”Ÿåº”ç”¨</h1></header><article><div><span><div class="integration-toggler">
<style>
.integration-toggler {
  margin-bottom: 10px;
}
.integration-toggler a {
  display: inline-block;
  padding: 10px 5px;
  margin: 2px;
  border: 1px solid #05A5D1;
  border-radius: 3px;
  text-decoration: none !important;
}
.display-platform-objc .integration-toggler .button-objc,
.display-platform-swift .integration-toggler .button-swift,
.display-platform-android .integration-toggler .button-android {
  background-color: #05A5D1;
  color: white;
}
.md-block { display: none; }
.md-block img { max-width:650px; }
.display-platform-objc .objc,
.display-platform-swift .swift,
.display-platform-android .android {
  display: block;
}
</style>
<span>å¹³å°:</span>
<a class="button-objc" onclick="display('platform', 'objc')">Objective-C</a>
<a class="button-swift" onclick="display('platform', 'swift')">Swift</a>
<a class="button-android" onclick="display('platform', 'android')">Android</a>
</div>
<div markdown class="md-block objc swift android">
<h2><a class="anchor" aria-hidden="true" id="æ ¸å¿ƒæ¦‚å¿µ"></a><a href="#æ ¸å¿ƒæ¦‚å¿µ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æ ¸å¿ƒæ¦‚å¿µ</h2>
<p>å¦‚æœä½ æ­£å‡†å¤‡ä»å¤´å¼€å§‹åˆ¶ä½œä¸€ä¸ªæ–°çš„åº”ç”¨ï¼Œé‚£ä¹ˆ React Native ä¼šæ˜¯ä¸ªéå¸¸å¥½çš„é€‰æ‹©ã€‚ä½†å¦‚æœä½ åªæƒ³ç»™ç°æœ‰çš„åŸç”Ÿåº”ç”¨ä¸­æ·»åŠ ä¸€ä¸¤ä¸ªè§†å›¾æˆ–æ˜¯ä¸šåŠ¡æµç¨‹ï¼ŒReact Native ä¹ŸåŒæ ·ä¸åœ¨è¯ä¸‹ã€‚åªéœ€ç®€å•å‡ æ­¥ï¼Œä½ å°±å¯ä»¥ç»™åŸæœ‰åº”ç”¨åŠ ä¸Šæ–°çš„åŸºäº React Native çš„ç‰¹æ€§ã€ç”»é¢å’Œè§†å›¾ç­‰ã€‚</p>
</div>
<div markdown class="md-block objc swift">
<p>æŠŠ React Native ç»„ä»¶é›†æˆåˆ° iOS é›†æˆåº”ç”¨ä¸­æœ‰å¦‚ä¸‹å‡ ä¸ªä¸»è¦æ­¥éª¤ï¼š</p>
<ol>
<li>é¦–å…ˆå½“ç„¶è¦äº†è§£ä½ è¦é›†æˆçš„ React Native ç»„ä»¶ã€‚</li>
<li>åˆ›å»ºä¸€ä¸ª<code>Podfile</code>ï¼Œåœ¨å…¶ä¸­ä»¥<code>subspec</code>çš„å½¢å¼å¡«å†™æ‰€æœ‰ä½ è¦é›†æˆçš„ React Native çš„ç»„ä»¶ã€‚</li>
<li>åˆ›å»º js æ–‡ä»¶ï¼Œç¼–å†™ React Native ç»„ä»¶çš„ js ä»£ç ã€‚</li>
<li>æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ª<code>RCTRootView</code>ã€‚è¿™ä¸ª<code>RCTRootView</code>æ­£æ˜¯ç”¨æ¥æ‰¿è½½ä½ çš„ React Native ç»„ä»¶çš„ï¼Œè€Œä¸”å®ƒå¿…é¡»å¯¹åº”ä½ åœ¨<code>index.js</code>ä¸­ä½¿ç”¨<code>AppRegistry</code>æ³¨å†Œçš„æ¨¡å—åå­—ã€‚</li>
<li>å¯åŠ¨ React Native çš„ Packager æœåŠ¡ï¼Œè¿è¡Œåº”ç”¨ã€‚</li>
<li>æ ¹æ®éœ€è¦æ·»åŠ æ›´å¤š React Native çš„ç»„ä»¶ã€‚</li>
<li><a href="debugging.html">è°ƒè¯•</a>ã€‚</li>
<li>å‡†å¤‡<a href="running-on-device-ios.html">éƒ¨ç½²å‘å¸ƒ</a> ï¼ˆå¯ä»¥ä½¿ç”¨<code>node_modules/react-native/scripts/react-native-xcode.sh</code>è„šæœ¬ï¼‰ã€‚</li>
<li>å‘å¸ƒåº”ç”¨ï¼Œå‡èŒåŠ è–ªï¼Œèµ°å‘äººç”Ÿå·…å³°ï¼ğŸ˜˜</li>
</ol>
</div>
<div markdown class="md-block android">
<p>æŠŠ React Native ç»„ä»¶é›†æˆåˆ° Android åº”ç”¨ä¸­æœ‰å¦‚ä¸‹å‡ ä¸ªä¸»è¦æ­¥éª¤ï¼š</p>
<ol>
<li>é¦–å…ˆå½“ç„¶è¦äº†è§£ä½ è¦é›†æˆçš„ React Native ç»„ä»¶ã€‚</li>
<li>åœ¨ Android é¡¹ç›®æ ¹ç›®å½•ä¸­ä½¿ç”¨ npm æ¥å®‰è£…<code>react-native</code> ï¼Œè¿™æ ·åŒæ—¶ä¼šåˆ›å»ºä¸€ä¸ª<code>node_modules/</code>çš„ç›®å½•ã€‚</li>
<li>åˆ›å»º js æ–‡ä»¶ï¼Œç¼–å†™ React Native ç»„ä»¶çš„ js ä»£ç ã€‚</li>
<li>åœ¨<code>build.gradle</code>æ–‡ä»¶ä¸­æ·»åŠ <code>com.facebook.react:react-native:+</code>ï¼Œä»¥åŠä¸€ä¸ªæŒ‡å‘<code>node_nodules/</code>ç›®å½•ä¸­çš„<code>react-native</code>é¢„ç¼–è¯‘åº“çš„<code>maven</code>è·¯å¾„ã€‚</li>
<li>åˆ›å»ºä¸€ä¸ª React Native ä¸“å±çš„<code>Activity</code>ï¼Œåœ¨å…¶ä¸­å†åˆ›å»º<code>ReactRootView</code>ã€‚</li>
<li>å¯åŠ¨ React Native çš„ Packager æœåŠ¡ï¼Œè¿è¡Œåº”ç”¨ã€‚</li>
<li>æ ¹æ®éœ€è¦æ·»åŠ æ›´å¤š React Native çš„ç»„ä»¶ã€‚</li>
<li>åœ¨çœŸæœºä¸Š<a href="running-on-device-android.html">è¿è¡Œ</a>ã€<a href="debugging.html">è°ƒè¯•</a>ã€‚</li>
<li><a href="signed-apk-android.html">æ‰“åŒ…</a>ã€‚</li>
<li>å‘å¸ƒåº”ç”¨ï¼Œå‡èŒåŠ è–ªï¼Œèµ°å‘äººç”Ÿå·…å³°ï¼ğŸ˜˜</li>
</ol>
</div>
<div markdown class="md-block objc swift android">
<h2><a class="anchor" aria-hidden="true" id="å¼€å‘ç¯å¢ƒå‡†å¤‡"></a><a href="#å¼€å‘ç¯å¢ƒå‡†å¤‡" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>å¼€å‘ç¯å¢ƒå‡†å¤‡</h2>
</div>
<div markdown class="md-block android">
<p>é¦–å…ˆæŒ‰ç…§<a href="getting-started.html">å¼€å‘ç¯å¢ƒæ­å»ºæ•™ç¨‹</a>æ¥å®‰è£… React Native åœ¨å®‰å“å¹³å°ä¸Šæ‰€éœ€çš„ä¸€åˆ‡ä¾èµ–è½¯ä»¶ï¼ˆæ¯”å¦‚<code>npm</code>ï¼‰ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="1-è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„"></a><a href="#1-è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„</h3>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªç©ºç›®å½•ç”¨äºå­˜æ”¾ React Native é¡¹ç›®ï¼Œç„¶ååœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ª<code>/android</code>å­ç›®å½•ï¼ŒæŠŠä½ ç°æœ‰çš„ Android é¡¹ç›®æ‹·è´åˆ°<code>/android</code>å­ç›®å½•ä¸­ã€‚</p>
</div>
<div markdown class="md-block objc swift">
<p>é¦–å…ˆæŒ‰ç…§<a href="getting-started.html">å¼€å‘ç¯å¢ƒæ­å»ºæ•™ç¨‹</a>æ¥å®‰è£… React Native åœ¨ iOS å¹³å°ä¸Šæ‰€éœ€çš„ä¸€åˆ‡ä¾èµ–è½¯ä»¶ï¼ˆæ¯”å¦‚<code>npm</code>ï¼‰ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="1-è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„-1"></a><a href="#1-è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„</h3>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªç©ºç›®å½•ç”¨äºå­˜æ”¾ React Native é¡¹ç›®ï¼Œç„¶ååœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ª<code>/ios</code>å­ç›®å½•ï¼ŒæŠŠä½ ç°æœ‰çš„ iOS é¡¹ç›®æ‹·è´åˆ°<code>/ios</code>å­ç›®å½•ä¸­ã€‚</p>
</div>
<div markdown class="md-block objc swift android">
<h3><a class="anchor" aria-hidden="true" id="2-å®‰è£…-javascript-ä¾èµ–åŒ…"></a><a href="#2-å®‰è£…-javascript-ä¾èµ–åŒ…" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. å®‰è£… JavaScript ä¾èµ–åŒ…</h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º<code>package.json</code>çš„ç©ºæ–‡æœ¬æ–‡ä»¶ï¼Œç„¶åå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs">{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"MyReactNativeApp"</span>,
  <span class="hljs-attr">"version"</span>: <span class="hljs-string">"0.0.1"</span>,
  <span class="hljs-attr">"private"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"scripts"</span>: {
    <span class="hljs-attr">"start"</span>: <span class="hljs-string">"node node_modules/react-native/local-cli/cli.js start"</span>
  },
  <span class="hljs-attr">"dependencies"</span>: {
    <span class="hljs-attr">"react"</span>: <span class="hljs-string">"16.0.0-alpha.6"</span>,
    <span class="hljs-attr">"react-native"</span>: <span class="hljs-string">"0.44.3"</span>
  }
}
</code></pre>
<blockquote>
<p>ç¤ºä¾‹ä¸­çš„<code>version</code>å­—æ®µæ²¡æœ‰å¤ªå¤§æ„ä¹‰ï¼ˆé™¤éä½ è¦æŠŠä½ çš„é¡¹ç›®å‘å¸ƒåˆ° npm ä»“åº“ï¼‰ã€‚<code>scripts</code>ä¸­æ˜¯ç”¨äºå¯åŠ¨ packager æœåŠ¡çš„å‘½ä»¤ã€‚<code>dependencies</code>ä¸­çš„ react å’Œ react-native çš„ç‰ˆæœ¬å–å†³äºä½ çš„å…·ä½“éœ€æ±‚ã€‚ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬æ¨èä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚ä½ å¯ä»¥ä½¿ç”¨<code>npm info react</code>å’Œ<code>npm info react-native</code>æ¥æŸ¥çœ‹å½“å‰çš„æœ€æ–°ç‰ˆæœ¬ã€‚å¦å¤–ï¼Œreact-native å¯¹ react çš„ç‰ˆæœ¬æœ‰ä¸¥æ ¼è¦æ±‚ï¼Œé«˜äºæˆ–ä½äºæŸä¸ªèŒƒå›´éƒ½ä¸å¯ä»¥ã€‚æœ¬æ–‡æ— æ³•åœ¨è¿™é‡Œåˆ—å‡ºæ‰€æœ‰ react native å’Œå¯¹åº”çš„ react ç‰ˆæœ¬è¦æ±‚ï¼Œåªèƒ½æé†’è¯»è€…å…ˆå°è¯•æ‰§è¡Œ npm installï¼Œç„¶åæ³¨æ„è§‚å¯Ÿå®‰è£…è¿‡ç¨‹ä¸­çš„æŠ¥é”™ä¿¡æ¯ï¼Œä¾‹å¦‚<code>require react@æŸ.æŸ.æŸç‰ˆæœ¬, but none was installed</code>ï¼Œç„¶åæ ¹æ®è¿™æ ·çš„æç¤ºï¼Œæ‰§è¡Œ<code>npm i -S react@æŸ.æŸ.æŸç‰ˆæœ¬</code>ã€‚å¦‚æœä½ ä½¿ç”¨å¤šä¸ªç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œå¯èƒ½è¿™äº›ç¬¬ä¸‰æ–¹å„è‡ªè¦æ±‚çš„ react ç‰ˆæœ¬æœ‰æ‰€å†²çªï¼Œæ­¤æ—¶åº”ä¼˜å…ˆæ»¡è¶³<code>react-native</code>æ‰€éœ€è¦çš„<code>react</code>ç‰ˆæœ¬ã€‚å…¶ä»–ç¬¬ä¸‰æ–¹èƒ½ç”¨åˆ™ç”¨ï¼Œä¸èƒ½ç”¨åˆ™åªèƒ½è€ƒè™‘é€‰æ‹©å…¶ä»–åº“ã€‚</p>
</blockquote>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ npmï¼ˆnode åŒ…ç®¡ç†å™¨ï¼ŒNode package managerï¼‰æ¥å®‰è£… React å’Œ React Native æ¨¡å—ã€‚
è¯·æ‰“å¼€ä¸€ä¸ªç»ˆç«¯/å‘½ä»¤æç¤ºè¡Œï¼Œè¿›å…¥åˆ°é¡¹ç›®ç›®å½•ä¸­ï¼ˆå³åŒ…å«æœ‰ package.json æ–‡ä»¶çš„ç›®å½•ï¼‰ï¼Œç„¶åè¿è¡Œä¸‹åˆ—å‘½ä»¤æ¥å®‰è£…ï¼š</p>
<pre><code class="hljs css language-bash">$ npm install
</code></pre>
<p>è¿™äº›æ¨¡å—ä¼šè¢«å®‰è£…åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>node_modules/</code>ç›®å½•ä¸­ï¼ˆæ‰€æœ‰é€šè¿‡ npm install å‘½ä»¤å®‰è£…çš„æ¨¡å—éƒ½ä¼šæ”¾åœ¨è¿™ä¸ªç›®å½•ä¸­ã€‚è¿™ä¸ªç›®å½•æˆ‘ä»¬åŸåˆ™ä¸Šä¸å¤åˆ¶ã€ä¸ç§»åŠ¨ã€ä¸ä¿®æ”¹ã€ä¸ä¸Šä¼ ï¼Œéšç”¨éšè£…ï¼‰ã€‚</p>
<div markdown class="md-block objc swift">
<h3><a class="anchor" aria-hidden="true" id="3-å®‰è£…-cocoapods"></a><a href="#3-å®‰è£…-cocoapods" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. å®‰è£… CocoaPods</h3>
<p><a href="http://cocoapods.org">CocoaPods</a>æ˜¯é’ˆå¯¹ iOS å’Œ Mac å¼€å‘çš„åŒ…ç®¡ç†å·¥å…·ã€‚æˆ‘ä»¬ç”¨å®ƒæ¥æŠŠ React Native æ¡†æ¶çš„ä»£ç ä¸‹è½½ä¸‹æ¥å¹¶æ·»åŠ åˆ°ä½ å½“å‰çš„é¡¹ç›®ä¸­ã€‚
æˆ‘ä»¬å»ºè®®ä½¿ç”¨<a href="http://brew.sh/">Homebrew</a>æ¥å®‰è£… CocoaPodsã€‚</p>
<pre><code class="hljs css language-bash">$ brew install cocoapods
</code></pre>
<blockquote>
<p>ä»æŠ€æœ¯ä¸Šæ¥è®²ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥è·³è¿‡ CocoaPodsï¼Œä½†æ˜¯è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±éœ€è¦æ‰‹å·¥æ¥å®Œæˆå¾ˆå¤šé…ç½®é¡¹ã€‚CocoaPods å¯ä»¥å¸®æˆ‘ä»¬å®Œæˆè¿™äº›ç¹ççš„å·¥ä½œã€‚</p>
</blockquote>
</div>
<div markdown class="md-block objc swift">
<h2><a class="anchor" aria-hidden="true" id="æŠŠ-react-native-æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­"></a><a href="#æŠŠ-react-native-æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æŠŠ React Native æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­</h2>
</div>
<div markdown class="md-block objc">
<p>åœ¨æœ¬æ•™ç¨‹ä¸­æˆ‘ä»¬ç”¨äº<a href="https://github.com/JoelMarcey/iOS-2048">ç¤ºèŒƒçš„ app</a>æ˜¯ä¸€ä¸ª[2048](<a href="https://en.wikipedia.org/wiki/2048_(video_game)ç±»å‹çš„æ¸¸æˆ">https://en.wikipedia.org/wiki/2048_(video_game)ç±»å‹çš„æ¸¸æˆ</a>ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªæ¸¸æˆè¿˜æ²¡æœ‰é›†æˆReact Native æ—¶çš„ä¸»ç•Œé¢ï¼š</p>
</div>
<div markdown class="md-block swift">
<p>åœ¨æœ¬æ•™ç¨‹ä¸­æˆ‘ä»¬ç”¨äº<a href="https://github.com/JoelMarcey/swift-2048">ç¤ºèŒƒçš„ app</a>æ˜¯ä¸€ä¸ª[2048](<a href="https://en.wikipedia.org/wiki/2048_(video_game)ç±»å‹çš„æ¸¸æˆ">https://en.wikipedia.org/wiki/2048_(video_game)ç±»å‹çš„æ¸¸æˆ</a>ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªæ¸¸æˆè¿˜æ²¡æœ‰é›†æˆReact Native æ—¶çš„ä¸»ç•Œé¢ï¼š</p>
</div>
<div markdown class="md-block objc swift">
<p><img src="/img/react-native-existing-app-integration-ios-before.png" alt="Before RN Integration"></p>
</div>
<div markdown class="md-block objc swift">
<h3><a class="anchor" aria-hidden="true" id="é…ç½®-cocoapods-çš„ä¾èµ–"></a><a href="#é…ç½®-cocoapods-çš„ä¾èµ–" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é…ç½® CocoaPods çš„ä¾èµ–</h3>
<p>React Native æ¡†æ¶æ•´ä½“æ˜¯ä½œä¸º node æ¨¡å—å®‰è£…åˆ°é¡¹ç›®ä¸­çš„ã€‚ä¸‹ä¸€æ­¥æˆ‘ä»¬éœ€è¦åœ¨ CocoaPods çš„<code>Podfile</code>ä¸­æŒ‡å®šæˆ‘ä»¬æ‰€éœ€è¦ä½¿ç”¨çš„ç»„ä»¶ã€‚</p>
<p>åœ¨ä½ å¼€å§‹æŠŠ React Native é›†æˆåˆ°ä½ çš„åº”ç”¨ä¸­ä¹‹å‰ï¼Œé¦–å…ˆè¦å†³å®šå…·ä½“æ•´åˆçš„æ˜¯ React Native æ¡†æ¶ä¸­çš„å“ªäº›éƒ¨åˆ†ã€‚è€Œè¿™å°±æ˜¯<code>subspec</code>è¦åšçš„å·¥ä½œã€‚åœ¨åˆ›å»º<code>Podfile</code>æ–‡ä»¶çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šå…·ä½“å®‰è£…å“ªäº› React Native çš„ä¾èµ–åº“ã€‚æ‰€æŒ‡å®šçš„æ¯ä¸€ä¸ªåº“å°±ç§°ä¸ºä¸€ä¸ª<code>subspec</code>ã€‚</p>
<p>å¯ç”¨çš„<code>subspec</code>éƒ½åˆ—åœ¨<a href="https://github.com/facebook/react-native/blob/master/React.podspec"><code>node_modules/react-native/React.podspec</code></a>ä¸­ï¼ŒåŸºæœ¬éƒ½æ˜¯æŒ‰å…¶åŠŸèƒ½å‘½åçš„ã€‚ä¸€èˆ¬æ¥è¯´ä½ é¦–å…ˆéœ€è¦æ·»åŠ <code>Core</code>ï¼Œè¿™ä¸€<code>subspec</code>åŒ…å«äº†å¿…é¡»çš„<code>AppRegistry</code>ã€<code>StyleSheet</code>ã€<code>View</code>ä»¥åŠå…¶ä»–çš„ä¸€äº› React Native æ ¸å¿ƒåº“ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨ React Native çš„<code>Text</code>åº“ï¼ˆå³<code>&lt;Text&gt;</code>ç»„ä»¶ï¼‰ï¼Œé‚£å°±éœ€è¦æ·»åŠ <code>RCTText</code>çš„<code>subspec</code>ã€‚åŒç†ï¼Œ<code>Image</code>éœ€è¦åŠ å…¥<code>RCTImage</code>ï¼Œç­‰ç­‰ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åœ¨<code>Podfile</code>æ–‡ä»¶ä¸­æŒ‡å®šæ‰€éœ€çš„<code>subspec</code>ã€‚åˆ›å»º<code>Podfile</code>çš„æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯åœ¨<code>/ios</code>å­ç›®å½•ä¸­ä½¿ç”¨ CocoaPods çš„<code>init</code>å‘½ä»¤ï¼š</p>
<pre><code class="hljs css language-bash">$ pod init
</code></pre>
<p><code>Podfile</code>ä¼šåˆ›å»ºåœ¨æ‰§è¡Œå‘½ä»¤çš„ç›®å½•ä¸­ã€‚ä½ éœ€è¦è°ƒæ•´å…¶å†…å®¹ä»¥æ»¡è¶³ä½ çš„é›†æˆéœ€æ±‚ã€‚è°ƒæ•´åçš„<code>Podfile</code>çš„å†…å®¹çœ‹èµ·æ¥ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š</p>
</div><div markdown class="md-block objc">
<pre><code class="hljs"><span class="hljs-comment"># targetçš„åå­—ä¸€èˆ¬ä¸ä½ çš„é¡¹ç›®åå­—ç›¸åŒ</span>
target <span class="hljs-string">'NumberTileGame'</span> <span class="hljs-keyword">do</span>

  <span class="hljs-comment"># 'node_modules'ç›®å½•ä¸€èˆ¬ä½äºæ ¹ç›®å½•ä¸­</span>
  <span class="hljs-comment"># ä½†æ˜¯å¦‚æœä½ çš„ç»“æ„ä¸åŒï¼Œé‚£ä½ å°±è¦æ ¹æ®å®é™…è·¯å¾„ä¿®æ”¹ä¸‹é¢çš„`:path`</span>
  pod <span class="hljs-string">'React'</span>, <span class="hljs-symbol">:path</span> =&gt; <span class="hljs-string">'../node_modules/react-native'</span>, <span class="hljs-symbol">:subspecs</span> =&gt; [
    <span class="hljs-string">'Core'</span>,
    <span class="hljs-string">'DevSupport'</span>, <span class="hljs-comment"># å¦‚æœRNç‰ˆæœ¬ &gt;= 0.43ï¼Œåˆ™éœ€è¦åŠ å…¥æ­¤è¡Œæ‰èƒ½å¼€å¯å¼€å‘è€…èœå•</span>
    <span class="hljs-string">'RCTText'</span>,
    <span class="hljs-string">'RCTNetwork'</span>,
    <span class="hljs-string">'RCTWebSocket'</span>, <span class="hljs-comment"># è¿™ä¸ªæ¨¡å—æ˜¯ç”¨äºè°ƒè¯•åŠŸèƒ½çš„</span>
    <span class="hljs-comment"># åœ¨è¿™é‡Œç»§ç»­æ·»åŠ ä½ æ‰€éœ€è¦çš„æ¨¡å—</span>
  ]
  <span class="hljs-comment"># å¦‚æœä½ çš„RNç‰ˆæœ¬ &gt;= 0.42.0ï¼Œåˆ™åŠ å…¥ä¸‹é¢è¿™è¡Œ</span>
  pod <span class="hljs-string">"Yoga"</span>, <span class="hljs-symbol">:path</span> =&gt; <span class="hljs-string">"../node_modules/react-native/ReactCommon/yoga"</span>

<span class="hljs-keyword">end</span>
</code></pre>
</div><div markdown class="md-block swift">
<pre><code class="hljs">source <span class="hljs-string">'https://github.com/CocoaPods/Specs.git'</span>

<span class="hljs-comment"># å¯¹äºSwiftåº”ç”¨æ¥è¯´ä¸‹é¢ä¸¤å¥æ˜¯å¿…é¡»çš„</span>
platform <span class="hljs-symbol">:ios</span>, <span class="hljs-string">'8.0'</span>
use_frameworks!

<span class="hljs-comment"># targetçš„åå­—ä¸€èˆ¬ä¸ä½ çš„é¡¹ç›®åå­—ç›¸åŒ</span>
target <span class="hljs-string">'swift-2048'</span> <span class="hljs-keyword">do</span>

  <span class="hljs-comment"># 'node_modules'ç›®å½•ä¸€èˆ¬ä½äºæ ¹ç›®å½•ä¸­</span>
  <span class="hljs-comment"># ä½†æ˜¯å¦‚æœä½ çš„ç»“æ„ä¸åŒï¼Œé‚£ä½ å°±è¦æ ¹æ®å®é™…è·¯å¾„ä¿®æ”¹ä¸‹é¢çš„`:path`</span>
  pod <span class="hljs-string">'React'</span>, <span class="hljs-symbol">:path</span> =&gt; <span class="hljs-string">'../node_modules/react-native'</span>, <span class="hljs-symbol">:subspecs</span> =&gt; [
    <span class="hljs-string">'Core'</span>,
    <span class="hljs-string">'CxxBridge'</span>, <span class="hljs-comment"># å¦‚æœRNç‰ˆæœ¬ &gt;= 0.47åˆ™åŠ å…¥æ­¤è¡Œ</span>
    <span class="hljs-string">'DevSupport'</span>, <span class="hljs-comment"># å¦‚æœRNç‰ˆæœ¬ &gt;= 0.43ï¼Œåˆ™éœ€è¦åŠ å…¥æ­¤è¡Œæ‰èƒ½å¼€å¯å¼€å‘è€…èœå•</span>
    <span class="hljs-string">'RCTText'</span>,
    <span class="hljs-string">'RCTNetwork'</span>,
    <span class="hljs-string">'RCTWebSocket'</span>, <span class="hljs-comment"># è¿™ä¸ªæ¨¡å—æ˜¯ç”¨äºè°ƒè¯•åŠŸèƒ½çš„</span>
    <span class="hljs-comment"># åœ¨è¿™é‡Œç»§ç»­æ·»åŠ ä½ æ‰€éœ€è¦çš„æ¨¡å—</span>
  ]
  <span class="hljs-comment"># å¦‚æœä½ çš„RNç‰ˆæœ¬ &gt;= 0.42.0ï¼Œè¯·åŠ å…¥ä¸‹é¢è¿™è¡Œ</span>
  pod <span class="hljs-string">"Yoga"</span>, <span class="hljs-symbol">:path</span> =&gt; <span class="hljs-string">"../node_modules/react-native/ReactCommon/yoga"</span>

<span class="hljs-keyword">end</span>
</code></pre>
</div><div markdown class="md-block objc swift">
<p>åˆ›å»ºå¥½äº†<code>Podfile</code>åï¼Œå°±å¯ä»¥å¼€å§‹å®‰è£… React Native çš„ pod åŒ…äº†ã€‚</p>
<pre><code class="hljs css language-bash">$ pod install
</code></pre>
<p>ç„¶åä½ åº”è¯¥å¯ä»¥çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„è¾“å‡º(è¯‘æ³¨ï¼šåŒæ ·ç”±äºä¼—æ‰€å‘¨çŸ¥çš„ç½‘ç»œåŸå› ï¼Œpod install çš„è¿‡ç¨‹åœ¨å›½å†…éå¸¸ä¸é¡ºåˆ©ï¼Œè¯·è‡ªè¡Œé…å¤‡ç¨³å®šçš„ç¿»å¢™å·¥å…·ï¼Œæˆ–æ˜¯å°è¯•ä¸€äº›<a href="https://www.baidu.com/s?ie=utf-8&amp;f=3&amp;rsv_bp=1&amp;ch=2&amp;tn=98010089_dg&amp;wd=cocoapods%20%E9%95%9C%E5%83%8F&amp;oq=cocoapods%E9%95%9C%E5%83%8F&amp;rsv_pq=8fe4602600052d40&amp;rsv_t=5d9fNEvNrqwcBS3rvMCKw0Cc%2FoW6XdW%2Bm4zks2nF3BxZ6cyWtJx1g%2F39Id6cUzeRTLM&amp;rqlang=cn&amp;rsv_enter=0&amp;inputT=809&amp;rsv_sug3=9&amp;rsv_sug1=7&amp;rsv_sug7=100&amp;prefixsug=cocoapods%20%E9%95%9C%E5%83%8F&amp;rsp=0&amp;rsv_sug4=1010">é•œåƒæº</a>)ï¼š</p>
<pre><code class="hljs css language-bash">Analyzing dependencies
Fetching podspec <span class="hljs-keyword">for</span> `React` from `../node_modules/react-native`
Downloading dependencies
Installing React (0.26.0)
Generating Pods project
Integrating client project
Sending stats
Pod installation complete! There are 3 dependencies from the Podfile and 1 total pod installed.
</code></pre>
</div><div markdown class="md-block swift">
<blockquote>
<p>å¦‚æœä½ çœ‹åˆ°ç±»ä¼¼&quot;<em>The <code>swift-2048 [Debug]</code> target overrides the <code>FRAMEWORK_SEARCH_PATHS</code> build setting defined in <code>Pods/Target Support Files/Pods-swift-2048/Pods-swift-2048.debug.xcconfig</code>. This can lead to problems with the CocoaPods installation</em>&quot;çš„è­¦å‘Šï¼Œè¯·æŸ¥çœ‹ Xcode çš„<code>Build Settings</code>ä¸­çš„<code>Framework Search Paths</code>é€‰é¡¹ï¼Œç¡®ä¿å…¶ä¸­çš„<code>Debug</code>å’Œ<code>Release</code>éƒ½åªåŒ…å«<code>$(inherited)</code>ã€‚</p>
</blockquote>
</div><div markdown class="md-block objc swift">
<h3><a class="anchor" aria-hidden="true" id="ä»£ç é›†æˆ"></a><a href="#ä»£ç é›†æˆ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä»£ç é›†æˆ</h3>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº†æ‰€æœ‰ä¾èµ–ï¼Œå¯ä»¥å¼€å§‹ç€æ‰‹ä¿®æ”¹åŸç”Ÿä»£ç æ¥æŠŠ React Native çœŸæ­£é›†æˆåˆ°åº”ç”¨ä¸­äº†ã€‚åœ¨æˆ‘ä»¬çš„ 2048 ç¤ºä¾‹ä¸­ï¼Œé¦–å…ˆå°è¯•æ·»åŠ ä¸€ä¸ªæ˜¾ç¤ºæœ‰&quot;High Score&quot;ï¼ˆå¾—åˆ†æ’è¡Œæ¦œï¼‰çš„ React Native é¡µé¢ã€‚</p>
<h4><a class="anchor" aria-hidden="true" id="react-native-ç»„ä»¶"></a><a href="#react-native-ç»„ä»¶" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React Native ç»„ä»¶</h4>
<p>æˆ‘ä»¬é¦–å…ˆè¦å†™çš„æ˜¯&quot;High Score&quot;ï¼ˆå¾—åˆ†æ’è¡Œæ¦œï¼‰çš„ JavaScript ç«¯çš„ä»£ç ã€‚</p>
<h5><a class="anchor" aria-hidden="true" id="1-åˆ›å»ºä¸€ä¸ªindexjsæ–‡ä»¶"></a><a href="#1-åˆ›å»ºä¸€ä¸ªindexjsæ–‡ä»¶" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. åˆ›å»ºä¸€ä¸ª<code>index.js</code>æ–‡ä»¶</h5>
<p>é¦–å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç©ºçš„<code>index.js</code>æ–‡ä»¶ã€‚ï¼ˆæ³¨æ„åœ¨ 0.49 ç‰ˆæœ¬ä¹‹å‰æ˜¯ index.ios.js æ–‡ä»¶ï¼‰</p>
<blockquote>
<p><code>index.js</code>æ˜¯ React Native åº”ç”¨åœ¨ iOS ä¸Šçš„å…¥å£æ–‡ä»¶ã€‚è€Œä¸”å®ƒæ˜¯ä¸å¯æˆ–ç¼ºçš„ï¼å®ƒå¯ä»¥æ˜¯ä¸ªå¾ˆç®€å•çš„æ–‡ä»¶ï¼Œç®€å•åˆ°å¯ä»¥åªåŒ…å«ä¸€è¡Œ<code>require/import</code>å¯¼å…¥è¯­å¥ã€‚æœ¬æ•™ç¨‹ä¸­ä¸ºäº†ç®€å•ç¤ºèŒƒï¼ŒæŠŠå…¨éƒ¨çš„ä»£ç éƒ½å†™åˆ°äº†<code>index.js</code>é‡Œï¼ˆå½“ç„¶å®é™…å¼€å‘ä¸­æˆ‘ä»¬å¹¶ä¸æ¨èè¿™æ ·åšï¼‰ã€‚</p>
</blockquote>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºæ–‡ä»¶ï¼š</span>
$ touch index.js
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="2-æ·»åŠ ä½ è‡ªå·±çš„-react-native-ä»£ç "></a><a href="#2-æ·»åŠ ä½ è‡ªå·±çš„-react-native-ä»£ç " aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. æ·»åŠ ä½ è‡ªå·±çš„ React Native ä»£ç </h5>
<p>åœ¨<code>index.js</code>ä¸­æ·»åŠ ä½ è‡ªå·±çš„ç»„ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬åªæ˜¯ç®€å•çš„æ·»åŠ ä¸€ä¸ª<code>&lt;Text&gt;</code>ç»„ä»¶ï¼Œç„¶åç”¨ä¸€ä¸ªå¸¦æœ‰æ ·å¼çš„<code>&lt;View&gt;</code>ç»„ä»¶æŠŠå®ƒåŒ…èµ·æ¥ã€‚</p>
<pre><code class="hljs css language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppRegistry<span class="token punctuation">,</span> StyleSheet<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> View <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-native"</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">RNHighScores</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> contents <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">[</span><span class="token string">"scores"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">score</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>score<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>score<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token plain-text">:</span><span class="token punctuation">{</span>score<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token punctuation">{</span><span class="token string">"\n"</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>highScoresTitle<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">2048 High Scores!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>scores<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>contents<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    flex<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    justifyContent<span class="token punctuation">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
    alignItems<span class="token punctuation">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
    backgroundColor<span class="token punctuation">:</span> <span class="token string">"#FFFFFF"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  highScoresTitle<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    fontSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    textAlign<span class="token punctuation">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
    margin<span class="token punctuation">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  scores<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    textAlign<span class="token punctuation">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> <span class="token string">"#333333"</span><span class="token punctuation">,</span>
    marginBottom<span class="token punctuation">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ•´ä½“jsæ¨¡å—çš„åç§°</span>
AppRegistry<span class="token punctuation">.</span><span class="token function">registerComponent</span><span class="token punctuation">(</span><span class="token string">"MyReactNativeApp"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> RNHighScores<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<p><code>MyReactNativeApp</code>æ˜¯æ•´ä½“ js æ¨¡å—ï¼ˆå³ä½ æ‰€æœ‰çš„ js ä»£ç ï¼‰çš„åç§°ã€‚ä½ åœ¨ iOS åŸç”Ÿä»£ç ä¸­æ·»åŠ  React Native è§†å›¾æ—¶ä¼šç”¨åˆ°è¿™ä¸ªåç§°ã€‚</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="æŒæ¡æ ¸å¿ƒç§‘æŠ€ï¼š-rctrootview"></a><a href="#æŒæ¡æ ¸å¿ƒç§‘æŠ€ï¼š-rctrootview" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æŒæ¡æ ¸å¿ƒç§‘æŠ€ï¼š <code>RCTRootView</code></h4>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»åœ¨<code>index.ios.js</code>ä¸­åˆ›å»ºäº† React Native ç»„ä»¶ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æŠŠè¿™ä¸ªç»„ä»¶æ·»åŠ ç»™ä¸€ä¸ªæ–°çš„æˆ–å·²æœ‰çš„<code>ViewController</code>ã€‚ The easiest path to take is to optionally create an event path to your component and then add that component to an existing <code>ViewController</code>.</p>
<p>We will tie our React Native component with a new native view in the <code>ViewController</code> that will actually host it called <code>RCTRootView</code> .</p>
<h5><a class="anchor" aria-hidden="true" id="1-create-an-event-path"></a><a href="#1-create-an-event-path" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Create an Event Path</h5>
<p>You can add a new link on the main game menu to go to the &quot;High Score&quot; React Native page.</p>
<p><img src="/img/react-native-add-react-native-integration-link.png" alt="Event Path"></p>
<h5><a class="anchor" aria-hidden="true" id="2-äº‹ä»¶å¤„ç†"></a><a href="#2-äº‹ä»¶å¤„ç†" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. äº‹ä»¶å¤„ç†</h5>
<p>We will now add an event handler from the menu link. A method will be added to the main <code>ViewController</code> of your application. This is where <code>RCTRootView</code> comes into play.</p>
<p>When you build a React Native application, you use the React Native packager to create an <code>index.bundle</code> that will be served by the React Native server. Inside <code>index.bundle</code> will be our <code>MyReactNativeApp</code> module. So, we need to point our <code>RCTRootView</code> to the location of the <code>index.bundle</code> resource (via <code>NSURL</code>) and tie it to the module.</p>
<p>We will, for debugging purposes, log that the event handler was invoked. Then, we will create a string with the location of our React Native code that exists inside the <code>index.bundle</code>. Finally, we will create the main <code>RCTRootView</code>. Notice how we provide <code>MyReactNativeApp</code> as the <code>moduleName</code> that we created <a href="#the-react-native-component">above</a> when writing the code for our React Native component.</p>
</div><div markdown class="md-block objc">
<p>é¦–å…ˆå¯¼å…¥<code>RCTRootView</code>çš„å¤´æ–‡ä»¶ã€‚</p>
<pre><code class="hljs css language-objectivec"><span class="hljs-meta">#import <span class="hljs-meta-string">&lt;React/RCTRootView.h&gt;</span></span>
</code></pre>
<blockquote>
<p>è¿™é‡Œçš„<code>initialProperties</code> are here for illustration purposes so we have some data for our high score screen. In our React Native component, we will use <code>this.props</code> to get access to that data.</p>
</blockquote>
<pre><code class="hljs">- (<span class="hljs-keyword">IBAction</span>)highScoreButtonPressed:(<span class="hljs-keyword">id</span>)sender {
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"High Score Button Pressed"</span>);
    <span class="hljs-built_in">NSURL</span> *jsCodeLocation = [<span class="hljs-built_in">NSURL</span>
                             URLWithString:<span class="hljs-string">@"http://localhost:8081/index.bundle?platform=ios"</span>];
    RCTRootView *rootView =
      [[RCTRootView alloc] initWithBundleURL : jsCodeLocation
                           moduleName        : <span class="hljs-string">@"MyReactNativeApp"</span>
                           initialProperties :
                             @{
                               <span class="hljs-string">@"scores"</span> : @[
                                 @{
                                   <span class="hljs-string">@"name"</span> : <span class="hljs-string">@"Alex"</span>,
                                   <span class="hljs-string">@"value"</span>: <span class="hljs-string">@"42"</span>
                                  },
                                 @{
                                   <span class="hljs-string">@"name"</span> : <span class="hljs-string">@"Joel"</span>,
                                   <span class="hljs-string">@"value"</span>: <span class="hljs-string">@"10"</span>
                                 }
                               ]
                             }
                           launchOptions    : <span class="hljs-literal">nil</span>];
    <span class="hljs-built_in">UIViewController</span> *vc = [[<span class="hljs-built_in">UIViewController</span> alloc] init];
    vc.view = rootView;
    [<span class="hljs-keyword">self</span> presentViewController:vc animated:<span class="hljs-literal">YES</span> completion:<span class="hljs-literal">nil</span>];
}
</code></pre>
<blockquote>
<p>Note that <code>RCTRootView initWithURL</code> starts up a new JSC VM. To save resources and simplify the communication between RN views in different parts of your native app, you can have multiple views powered by React Native that are associated with a single JS runtime. To do that, instead of using <code>[RCTRootView alloc] initWithURL</code>, use <a href="https://github.com/facebook/react-native/blob/master/React/Base/RCTBridge.h#L93"><code>RCTBridge initWithBundleURL</code></a> to create a bridge and then use <code>RCTRootView initWithBridge</code>.</p>
</blockquote>
</div><div markdown class="md-block swift">
<p>é¦–å…ˆ<code>import</code>å¯¼å…¥<code>React</code>åº“ã€‚</p>
<pre><code class="hljs"><span class="hljs-keyword">import</span> React
</code></pre>
<blockquote>
<p>The <code>initialProperties</code> are here for illustration purposes so we have some data for our high score screen. In our React Native component, we will use <code>this.props</code> to get access to that data.</p>
</blockquote>
<pre><code class="hljs"><span class="hljs-meta">@IBAction</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">highScoreButtonTapped</span><span class="hljs-params">(sender : UIButton)</span></span> {
  <span class="hljs-type">NSLog</span>(<span class="hljs-string">"Hello"</span>)
  <span class="hljs-keyword">let</span> jsCodeLocation = <span class="hljs-type">URL</span>(string: <span class="hljs-string">"http://localhost:8081/index.bundle?platform=ios"</span>)
  <span class="hljs-keyword">let</span> mockData:<span class="hljs-type">NSDictionary</span> = [<span class="hljs-string">"scores"</span>:
      [
          [<span class="hljs-string">"name"</span>:<span class="hljs-string">"Alex"</span>, <span class="hljs-string">"value"</span>:<span class="hljs-string">"42"</span>],
          [<span class="hljs-string">"name"</span>:<span class="hljs-string">"Joel"</span>, <span class="hljs-string">"value"</span>:<span class="hljs-string">"10"</span>]
      ]
  ]

  <span class="hljs-keyword">let</span> rootView = <span class="hljs-type">RCTRootView</span>(
      bundleURL: jsCodeLocation,
      moduleName: <span class="hljs-string">"MyReactNativeApp"</span>,
      initialProperties: mockData <span class="hljs-keyword">as</span> [<span class="hljs-type">NSObject</span> : <span class="hljs-type">AnyObject</span>],
      launchOptions: <span class="hljs-literal">nil</span>
  )
  <span class="hljs-keyword">let</span> vc = <span class="hljs-type">UIViewController</span>()
  vc.view = rootView
  <span class="hljs-keyword">self</span>.present(vc, animated: <span class="hljs-literal">true</span>, completion: <span class="hljs-literal">nil</span>)
}
</code></pre>
<blockquote>
<p>æ³¨æ„<code>RCTRootView bundleURL</code> starts up a new JSC VM. To save resources and simplify the communication between RN views in different parts of your native app, you can have multiple views powered by React Native that are associated with a single JS runtime. To do that, instead of using <code>RCTRootView bundleURL</code>, use <a href="https://github.com/facebook/react-native/blob/master/React/Base/RCTBridge.h#L93"><code>RCTBridge initWithBundleURL</code></a> to create a bridge and then use <code>RCTRootView initWithBridge</code>.</p>
</blockquote>
</div><div markdown class="md-block objc">
<blockquote>
<p>When moving your app to production, the <code>NSURL</code> can point to a pre-bundled file on disk via something like <code>[[NSBundle mainBundle] URLForResource:@&quot;main&quot; withExtension:@&quot;jsbundle&quot;];</code>. You can use the <code>react-native-xcode.sh</code> script in <code>node_modules/react-native/packager/</code> to generate that pre-bundled file.</p>
</blockquote>
</div><div markdown class="md-block swift">
<blockquote>
<p>When moving your app to production, the <code>NSURL</code> can point to a pre-bundled file on disk via something like <code>let mainBundle = NSBundle(URLForResource: &quot;main&quot; withExtension:&quot;jsbundle&quot;)</code>. You can use the <code>react-native-xcode.sh</code> script in <code>node_modules/react-native/packager/</code> to generate that pre-bundled file.</p>
</blockquote>
</div><div markdown class="md-block objc swift">
<h5><a class="anchor" aria-hidden="true" id="3-wire-up"></a><a href="#3-wire-up" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Wire Up</h5>
<p>Wire up the new link in the main menu to the newly added event handler method.</p>
<p><img src="/img/react-native-add-react-native-integration-wire-up.png" alt="Event Path"></p>
<blockquote>
<p>One of the easier ways to do this is to open the view in the storyboard and right click on the new link. Select something such as the <code>Touch Up Inside</code> event, drag that to the storyboard and then select the created method from the list provided.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="æµ‹è¯•é›†æˆç»“æœ"></a><a href="#æµ‹è¯•é›†æˆç»“æœ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æµ‹è¯•é›†æˆç»“æœ</h3>
<p>You have now done all the basic steps to integrate React Native with your current application. Now we will start the React Native packager to build the <code>index.bundle</code> packager and the server running on <code>localhost</code> to serve it.</p>
<h5><a class="anchor" aria-hidden="true" id="1-æ·»åŠ -app-transport-security-ä¾‹å¤–"></a><a href="#1-æ·»åŠ -app-transport-security-ä¾‹å¤–" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. æ·»åŠ  App Transport Security ä¾‹å¤–</h5>
<p>Apple ç°åœ¨é»˜è®¤ä¼šé˜»æ­¢è¯»å–ä¸å®‰å…¨çš„ HTTP é“¾æ¥ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠæœ¬åœ°è¿è¡Œçš„ Packager æœåŠ¡æ·»åŠ åˆ°<code>Info.plist</code>çš„ä¾‹å¤–ä¸­ï¼Œä»¥ä¾¿èƒ½æ­£å¸¸è®¿é—® Packager æœåŠ¡ï¼š</p>
<pre><code class="hljs css language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>NSAppTransportSecurity<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>NSExceptionDomains<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>localhost<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>NSTemporaryExceptionAllowsInsecureHTTPLoads<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
</code></pre>
<blockquote>
<p>App Transport Security å¯¹äºç”¨æˆ·æ¥è¯´æ˜¯æœ‰åˆ©çš„ã€‚æ‰€ä»¥æœ€å¥½è®°å¾—åœ¨å‘å¸ƒä¹‹å‰é‡æ–°å¯ç”¨è¿™äº›å®‰å…¨é™åˆ¶ã€‚</p>
</blockquote>
<h5><a class="anchor" aria-hidden="true" id="2-è¿è¡Œ-packager"></a><a href="#2-è¿è¡Œ-packager" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. è¿è¡Œ Packager</h5>
<p>è¦è¿è¡Œåº”ç”¨ï¼Œé¦–å…ˆéœ€è¦å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå³ Packagerï¼Œå®ƒè´Ÿè´£å®æ—¶ç›‘æµ‹ js æ–‡ä»¶çš„å˜åŠ¨å¹¶å®æ—¶æ‰“åŒ…ï¼Œè¾“å‡ºç»™å®¢æˆ·ç«¯è¿è¡Œï¼‰ã€‚å…·ä½“åªéœ€ç®€å•è¿›å…¥åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œç„¶åè¿è¡Œï¼š</p>
<pre><code class="hljs css language-bash">$ npm start
</code></pre>
<blockquote>
<p>Packager åªæ˜¯åœ¨å¼€å‘æ—¶éœ€è¦ï¼Œä¾¿äºä½ å¿«é€Ÿå¼€å‘è¿­ä»£ã€‚åœ¨æ­£å¼å‘å¸ƒåº”ç”¨æ—¶ï¼Œæ‰€æœ‰çš„ js æ–‡ä»¶éƒ½ä¼šè¢«æ‰“åŒ…ä¸ºä¸€æ•´ä¸ª jsbundle æ–‡ä»¶ç¦»çº¿è¿è¡Œï¼Œæ­¤æ—¶å®¢æˆ·ç«¯ä¸å†éœ€è¦ Packager æœåŠ¡ã€‚</p>
</blockquote>
<h5><a class="anchor" aria-hidden="true" id="3-è¿è¡Œåº”ç”¨"></a><a href="#3-è¿è¡Œåº”ç”¨" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. è¿è¡Œåº”ç”¨</h5>
<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Xcodeï¼Œé‚£ä¹ˆç…§å¸¸ç¼–è¯‘å’Œè¿è¡Œåº”ç”¨å³å¯ã€‚å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ Xcodeï¼ˆä½†æ˜¯ä½ ä»ç„¶å¿…é¡»å®‰è£… Xcodeï¼‰ï¼Œåˆ™å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è¿è¡Œåº”ç”¨ï¼š</p>
<pre><code class="hljs css language-bash"><span class="hljs-comment"># åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­æ‰§è¡Œï¼š</span>
$ react-native run-ios
</code></pre>
<p>In our sample application, you should see the link to the &quot;High Scores&quot; and then when you click on that you will see the rendering of your React Native component.</p>
<p>Here is the <em>native</em> application home screen:</p>
<p><img src="/img/react-native-add-react-native-integration-example-home-screen.png" alt="Home Screen"></p>
<p>Here is the <em>React Native</em> high score screen:</p>
<p><img src="/img/react-native-add-react-native-integration-example-high-scores.png" alt="High Scores"></p>
<blockquote>
<p>If you are getting module resolution issues when running your application please see <a href="https://github.com/facebook/react-native/issues/4968">this GitHub issue</a> for information and possible resolution. <a href="https://github.com/facebook/react-native/issues/4968#issuecomment-220941717">This comment</a> seemed to be the latest possible resolution.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="çœ‹ä¸€ä¸‹å®Œæ•´çš„ä»£ç å˜æ›´"></a><a href="#çœ‹ä¸€ä¸‹å®Œæ•´çš„ä»£ç å˜æ›´" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>çœ‹ä¸€ä¸‹å®Œæ•´çš„ä»£ç å˜æ›´</h3>
<p>æ³¨æ„ï¼šä»¥ä¸‹çš„ä»£ç å˜æ›´è¿‡ç¨‹å¯èƒ½å¹¶ä¸ç¬¦åˆæœ€æ–°çš„ React Native ç‰ˆæœ¬ã€‚è¯·è‡ªè¡Œç”„åˆ«ã€‚</p>
</div><div markdown class="md-block objc">
<p>ä½ å¯ä»¥åœ¨è¿™ä¸ª<a href="https://github.com/JoelMarcey/iOS-2048/commit/9ae70c7cdd53eb59f5f7c7daab382b0300ed3585">GitHub æäº¤è®°å½•</a>é‡ŒæŸ¥çœ‹ä¸€æ¬¡å®Œæ•´çš„é›†æˆè¿‡ç¨‹å…·ä½“æœ‰å“ªäº›ä»£ç /æ–‡ä»¶å˜æ›´ã€‚</p>
</div><div markdown class="md-block swift">
<p>ä½ å¯ä»¥åœ¨è¿™ä¸ª<a href="https://github.com/JoelMarcey/swift-2048/commit/13272a31ee6dd46dc68b1dcf4eaf16c1a10f5229">GitHub æäº¤è®°å½•</a>é‡ŒæŸ¥çœ‹ä¸€æ¬¡å®Œæ•´çš„é›†æˆè¿‡ç¨‹å…·ä½“æœ‰å“ªäº›ä»£ç /æ–‡ä»¶å˜æ›´ã€‚</p>
</div><div markdown class="md-block android">
<h2><a class="anchor" aria-hidden="true" id="æŠŠ-react-native-æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­-1"></a><a href="#æŠŠ-react-native-æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æŠŠ React Native æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­</h2>
<h3><a class="anchor" aria-hidden="true" id="é…ç½®-maven"></a><a href="#é…ç½®-maven" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é…ç½® maven</h3>
<p>åœ¨ä½ çš„ app ä¸­ <code>build.gradle</code> æ–‡ä»¶ä¸­æ·»åŠ  React Native ä¾èµ–:</p>
<pre><code class="hljs"> <span class="hljs-keyword">dependencies</span> {
     ...
     <span class="hljs-keyword">compile</span> <span class="hljs-string">"com.facebook.react:react-native:+"</span> <span class="hljs-comment">// From node_modules.</span>
 }
</code></pre>
<blockquote>
<p>å¦‚æœæƒ³è¦æŒ‡å®šç‰¹å®šçš„ React Native ç‰ˆæœ¬ï¼Œå¯ä»¥ç”¨å…·ä½“çš„ç‰ˆæœ¬å·æ›¿æ¢ <code>+</code>ï¼Œå½“ç„¶å‰ææ˜¯ä½ ä» npm é‡Œä¸‹è½½çš„æ˜¯è¿™ä¸ªç‰ˆæœ¬ ã€‚</p>
</blockquote>
<p>åœ¨é¡¹ç›®çš„ <code>build.gradle</code> æ–‡ä»¶ä¸­ä¸º React Native æ·»åŠ ä¸€ä¸ª maven ä¾èµ–çš„å…¥å£ï¼Œå¿…é¡»å†™åœ¨ &quot;allprojects&quot; ä»£ç å—ä¸­:</p>
<pre><code class="hljs"><span class="hljs-class">allprojects </span>{
    <span class="hljs-class">repositories </span>{
        ...
        <span class="hljs-class">maven </span>{
            <span class="hljs-comment">// All of React Native (JS, Android binaries) is installed from npm</span>
            url <span class="hljs-string">"$rootDir/../node_modules/react-native/android"</span>
        }
    }
    ...
}
</code></pre>
<blockquote>
<p>ç¡®ä¿ä¾èµ–è·¯å¾„çš„æ­£ç¡®ï¼ä»¥å…åœ¨ Android Studio è¿è¡Œ Gradle åŒæ­¥æ„å»ºæ—¶æŠ›å‡º â€œFailed to resolve: com.facebook.react:react-native:0.x.x&quot; å¼‚å¸¸ã€‚</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="é…ç½®æƒé™"></a><a href="#é…ç½®æƒé™" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>é…ç½®æƒé™</h3>
<p>æ¥ç€ï¼Œåœ¨ <code>AndroidManifest.xml</code> æ¸…å•æ–‡ä»¶ä¸­å£°æ˜ç½‘ç»œæƒé™:</p>
<pre><code class="hljs">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
</code></pre>
<p>å¦‚æœéœ€è¦è®¿é—® <code>DevSettingsActivity</code> ç•Œé¢ï¼ˆå³å¼€å‘è€…èœå•ï¼‰ï¼Œåˆ™è¿˜éœ€è¦åœ¨ <code>AndroidManifest.xml</code> ä¸­å£°æ˜:</p>
<pre><code class="hljs">&lt;activity android:name=&quot;com.facebook.react.devsupport.DevSettingsActivity&quot; /&gt;
</code></pre>
<p>å¼€å‘è€…èœå•ä¸€èˆ¬ä»…ç”¨äºåœ¨å¼€å‘æ—¶ä» Packager æœåŠ¡å™¨åˆ·æ–° JavaScript ä»£ç ï¼Œæ‰€ä»¥åœ¨æ­£å¼å‘å¸ƒæ—¶ä½ å¯ä»¥å»æ‰è¿™ä¸€æƒé™ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="ä»£ç é›†æˆ-1"></a><a href="#ä»£ç é›†æˆ-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ä»£ç é›†æˆ</h3>
<p>Now we will actually modify the native Android application to integrate React Native.</p>
<h4><a class="anchor" aria-hidden="true" id="react-native-ç»„ä»¶-1"></a><a href="#react-native-ç»„ä»¶-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React Native ç»„ä»¶</h4>
<p>æˆ‘ä»¬é¦–å…ˆè¦å†™çš„æ˜¯&quot;High Score&quot;ï¼ˆå¾—åˆ†æ’è¡Œæ¦œï¼‰çš„ JavaScript ç«¯çš„ä»£ç ã€‚</p>
<h5><a class="anchor" aria-hidden="true" id="1-åˆ›å»ºä¸€ä¸ªindexjsæ–‡ä»¶-1"></a><a href="#1-åˆ›å»ºä¸€ä¸ªindexjsæ–‡ä»¶-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. åˆ›å»ºä¸€ä¸ª<code>index.js</code>æ–‡ä»¶</h5>
<p>é¦–å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªç©ºçš„<code>index.js</code>æ–‡ä»¶ã€‚(æ³¨æ„åœ¨ 0.49 ç‰ˆæœ¬ä¹‹å‰æ˜¯ index.android.js æ–‡ä»¶)</p>
<blockquote>
<p><code>index.js</code>æ˜¯ React Native åº”ç”¨åœ¨ Android ä¸Šçš„å…¥å£æ–‡ä»¶ã€‚è€Œä¸”å®ƒæ˜¯ä¸å¯æˆ–ç¼ºçš„ï¼å®ƒå¯ä»¥æ˜¯ä¸ªå¾ˆç®€å•çš„æ–‡ä»¶ï¼Œç®€å•åˆ°å¯ä»¥åªåŒ…å«ä¸€è¡Œ<code>require/import</code>å¯¼å…¥è¯­å¥ã€‚æœ¬æ•™ç¨‹ä¸­ä¸ºäº†ç®€å•ç¤ºèŒƒï¼ŒæŠŠå…¨éƒ¨çš„ä»£ç éƒ½å†™åˆ°äº†<code>index.js</code>é‡Œï¼ˆå½“ç„¶å®é™…å¼€å‘ä¸­æˆ‘ä»¬å¹¶ä¸æ¨èè¿™æ ·åšï¼‰ã€‚</p>
</blockquote>
<h5><a class="anchor" aria-hidden="true" id="2-æ·»åŠ ä½ è‡ªå·±çš„-react-native-ä»£ç -1"></a><a href="#2-æ·»åŠ ä½ è‡ªå·±çš„-react-native-ä»£ç -1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. æ·»åŠ ä½ è‡ªå·±çš„ React Native ä»£ç </h5>
<p>åœ¨<code>index.js</code>ä¸­æ·»åŠ ä½ è‡ªå·±çš„ç»„ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬åªæ˜¯ç®€å•çš„æ·»åŠ ä¸€ä¸ª<code>&lt;Text&gt;</code>ç»„ä»¶ï¼Œç„¶åç”¨ä¸€ä¸ªå¸¦æœ‰æ ·å¼çš„<code>&lt;View&gt;</code>ç»„ä»¶æŠŠå®ƒåŒ…èµ·æ¥ã€‚</p>
<pre><code class="hljs css language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppRegistry<span class="token punctuation">,</span> StyleSheet<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> View <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-native"</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>hello<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">Hello, World</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">></span></span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    flex<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    justifyContent<span class="token punctuation">:</span> <span class="token string">"center"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  hello<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    fontSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    textAlign<span class="token punctuation">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>
    margin<span class="token punctuation">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

AppRegistry<span class="token punctuation">.</span><span class="token function">registerComponent</span><span class="token punctuation">(</span><span class="token string">"MyReactNativeApp"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> HelloWorld<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="3-é…ç½®æƒé™ä»¥ä¾¿å¼€å‘ä¸­çš„çº¢å±é”™è¯¯èƒ½æ­£ç¡®æ˜¾ç¤º"></a><a href="#3-é…ç½®æƒé™ä»¥ä¾¿å¼€å‘ä¸­çš„çº¢å±é”™è¯¯èƒ½æ­£ç¡®æ˜¾ç¤º" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. é…ç½®æƒé™ä»¥ä¾¿å¼€å‘ä¸­çš„çº¢å±é”™è¯¯èƒ½æ­£ç¡®æ˜¾ç¤º</h5>
<p>å¦‚æœä½ çš„åº”ç”¨ä¼šè¿è¡Œåœ¨ Android 6.0ï¼ˆAPI level 23ï¼‰æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œè¯·ç¡®ä¿ä½ åœ¨å¼€å‘ç‰ˆæœ¬ä¸­æœ‰æ‰“å¼€<code>æ‚¬æµ®çª—(overlay)</code>æƒé™ã€‚ä½ å¯ä»¥åœ¨ä»£ç ä¸­ä½¿ç”¨<code>Settings.canDrawOverlays(this);</code>æ¥æ£€æŸ¥ã€‚ä¹‹æ‰€ä»¥éœ€è¦è¿™ä¸€æƒé™ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬ä¼šæŠŠå¼€å‘ä¸­çš„æŠ¥é”™æ˜¾ç¤ºåœ¨æ‚¬æµ®çª—ä¸­ï¼ˆä»…åœ¨å¼€å‘é˜¶æ®µéœ€è¦ï¼‰ã€‚åœ¨ Android 6.0ï¼ˆAPI level 23ï¼‰ä¸­ç”¨æˆ·éœ€è¦æ‰‹åŠ¨åŒæ„æˆæƒã€‚å…·ä½“è¯·æ±‚æˆæƒçš„åšæ³•æ˜¯åœ¨<code>onCreate()</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ã€‚å…¶ä¸­<code>OVERLAY_PERMISSION_REQ_CODE</code>æ˜¯ç”¨äºå›ä¼ æˆæƒç»“æœçš„å­—æ®µã€‚</p>
<pre><code class="hljs css language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> <span class="token class-name">Build</span><span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span><span class="token class-name">M</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Settings</span><span class="token punctuation">.</span><span class="token function">canDrawOverlays</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token class-name">Settings</span><span class="token punctuation">.</span>ACTION_MANAGE_OVERLAY_PERMISSION<span class="token punctuation">,</span>
                                   <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"package:"</span> <span class="token operator">+</span> <span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">startActivityForResult</span><span class="token punctuation">(</span>intent<span class="token punctuation">,</span> OVERLAY_PERMISSION_REQ_CODE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Finally, the <code>onActivityResult()</code> method (as shown in the code below) has to be overridden to handle the permission Accepted or Denied cases for consistent UX.</p>
<pre><code class="hljs css language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onActivityResult</span><span class="token punctuation">(</span><span class="token keyword">int</span> requestCode<span class="token punctuation">,</span> <span class="token keyword">int</span> resultCode<span class="token punctuation">,</span> <span class="token class-name">Intent</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>requestCode <span class="token operator">==</span> OVERLAY_PERMISSION_REQ_CODE<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Build</span><span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> <span class="token class-name">Build</span><span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span><span class="token class-name">M</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Settings</span><span class="token punctuation">.</span><span class="token function">canDrawOverlays</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// SYSTEM_ALERT_WINDOW permission not granted...</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="æŒæ¡æ ¸å¿ƒç§‘æŠ€ï¼šreactrootview"></a><a href="#æŒæ¡æ ¸å¿ƒç§‘æŠ€ï¼šreactrootview" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æŒæ¡æ ¸å¿ƒç§‘æŠ€ï¼š<code>ReactRootView</code></h4>
<p>æˆ‘ä»¬è¿˜éœ€è¦æ·»åŠ ä¸€äº›åŸç”Ÿä»£ç æ¥å¯åŠ¨ React Native çš„è¿è¡Œæ—¶ç¯å¢ƒå¹¶è®©å®ƒå¼€å§‹æ¸²æŸ“ã€‚é¦–å…ˆéœ€è¦åœ¨ä¸€ä¸ª<code>Activity</code>ä¸­åˆ›å»ºä¸€ä¸ª<code>ReactRootView</code>å¯¹è±¡ï¼Œç„¶ååœ¨è¿™ä¸ªå¯¹è±¡ä¹‹ä¸­å¯åŠ¨ React Native åº”ç”¨ï¼Œå¹¶å°†å®ƒè®¾ä¸ºç•Œé¢çš„ä¸»è§†å›¾ã€‚</p>
<blockquote>
<p>å¦‚æœä½ æƒ³åœ¨å®‰å“ 5.0 ä»¥ä¸‹çš„ç³»ç»Ÿä¸Šè¿è¡Œï¼Œè¯·ç”¨ <code>com.android.support:appcompat</code> åŒ…ä¸­çš„ <code>AppCompatActivity</code> ä»£æ›¿ <code>Activity</code> ã€‚</p>
</blockquote>
<pre><code class="hljs css language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyReactActivity</span> <span class="token keyword">extends</span> <span class="token class-name">Activity</span> <span class="token keyword">implements</span> <span class="token class-name">DefaultHardwareBackBtnHandler</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">ReactRootView</span> mReactRootView<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ReactInstanceManager</span> mReactInstanceManager<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token class-name">Bundle</span> savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>

        mReactRootView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReactRootView</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mReactInstanceManager <span class="token operator">=</span> <span class="token class-name">ReactInstanceManager</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setApplication</span><span class="token punctuation">(</span><span class="token function">getApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setBundleAssetName</span><span class="token punctuation">(</span><span class="token string">"index.android.bundle"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setJSMainModuleName</span><span class="token punctuation">(</span><span class="token string">"index.android"</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addPackage</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MainReactPackage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setUseDeveloperSupport</span><span class="token punctuation">(</span><span class="token class-name">BuildConfig</span><span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setInitialLifecycleState</span><span class="token punctuation">(</span><span class="token class-name">LifecycleState</span><span class="token punctuation">.</span>RESUMED<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// æ³¨æ„è¿™é‡Œçš„MyReactNativeAppå¿…é¡»å¯¹åº”â€œindex.android.jsâ€ä¸­çš„</span>
        <span class="token comment">// â€œAppRegistry.registerComponent()â€çš„ç¬¬ä¸€ä¸ªå‚æ•°</span>
        mReactRootView<span class="token punctuation">.</span><span class="token function">startReactApplication</span><span class="token punctuation">(</span>mReactInstanceManager<span class="token punctuation">,</span> <span class="token string">"MyReactNativeApp"</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">setContentView</span><span class="token punctuation">(</span>mReactRootView<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">invokeDefaultOnBackPressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onBackPressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ Android Studio , å¯ä»¥ä½¿ç”¨<code>Alt + Enter</code>å¿«æ·é”®æ¥è‡ªåŠ¨ä¸º MyReactActivity ç±»è¡¥ä¸Šç¼ºå¤±çš„ import è¯­å¥ã€‚æ³¨æ„<code>BuildConfig</code>åº”è¯¥æ˜¯åœ¨ä½ è‡ªå·±çš„åŒ…ä¸­è‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€é¢å¤–å¼•å…¥ã€‚åƒä¸‡ä¸è¦ä»<code>com.facebook...</code>çš„åŒ…ä¸­å¼•å…¥ï¼</p>
<p>æˆ‘ä»¬éœ€è¦æŠŠ <code>MyReactActivity</code> çš„ä¸»é¢˜è®¾å®šä¸º <code>Theme.AppCompat.Light.NoActionBar</code> ï¼Œå› ä¸ºé‡Œé¢æœ‰è®¸å¤šç»„ä»¶éƒ½ä½¿ç”¨äº†è¿™ä¸€ä¸»é¢˜ã€‚</p>
<pre><code class="hljs css language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
  <span class="hljs-attr">android:name</span>=<span class="hljs-string">".MyReactActivity"</span>
  <span class="hljs-attr">android:label</span>=<span class="hljs-string">"@string/app_name"</span>
  <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@style/Theme.AppCompat.Light.NoActionBar"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
</code></pre>
<blockquote>
<p>ä¸€ä¸ª<code>ReactInstanceManager</code>å¯ä»¥åœ¨å¤šä¸ª activities æˆ– fragments é—´å…±äº«ã€‚ You will want to make your own <code>ReactFragment</code> or <code>ReactActivity</code> and have a singleton <em>holder</em> that holds a <code>ReactInstanceManager</code>. When you need the <code>ReactInstanceManager</code> (e.g., to hook up the <code>ReactInstanceManager</code> to the lifecycle of those Activities or Fragments) use the one provided by the singleton.</p>
</blockquote>
<p>ä¸‹ä¸€æ­¥æˆ‘ä»¬éœ€è¦æŠŠä¸€äº› activity çš„ç”Ÿå‘½å‘¨æœŸå›è°ƒä¼ é€’ç»™<code>ReactInstanceManager</code>ï¼š</p>
<pre><code class="hljs css language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>mReactInstanceManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mReactInstanceManager<span class="token punctuation">.</span><span class="token function">onHostPause</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>mReactInstanceManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mReactInstanceManager<span class="token punctuation">.</span><span class="token function">onHostResume</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>mReactInstanceManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mReactInstanceManager<span class="token punctuation">.</span><span class="token function">onHostDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>æˆ‘ä»¬è¿˜éœ€è¦æŠŠåé€€æŒ‰é’®äº‹ä»¶ä¼ é€’ç»™ React Nativeï¼š</p>
<pre><code class="hljs css language-java"><span class="token annotation punctuation">@Override</span>
 <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onBackPressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mReactInstanceManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mReactInstanceManager<span class="token punctuation">.</span><span class="token function">onBackPressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onBackPressed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This allows JavaScript to control what happens when the user presses the hardware back button (e.g. to implement navigation). When JavaScript doesn't handle a back press, your <code>invokeDefaultOnBackPressed</code> method will be called. By default this simply finishes your <code>Activity</code>.</p>
<p>Finally, we need to hook up the dev menu. By default, this is activated by (rage) shaking the device, but this is not very useful in emulators. So we make it show when you press the hardware menu button (use <code>Ctrl + M</code> if you're using Android Studio emulator):</p>
<pre><code class="hljs css language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">onKeyUp</span><span class="token punctuation">(</span><span class="token keyword">int</span> keyCode<span class="token punctuation">,</span> <span class="token class-name">KeyEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>keyCode <span class="token operator">==</span> <span class="token class-name">KeyEvent</span><span class="token punctuation">.</span>KEYCODE_MENU <span class="token operator">&amp;&amp;</span> mReactInstanceManager <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mReactInstanceManager<span class="token punctuation">.</span><span class="token function">showDevOptionsDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onKeyUp</span><span class="token punctuation">(</span>keyCode<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>ç°åœ¨ activity å·²å°±ç»ªï¼Œå¯ä»¥è¿è¡Œä¸€äº› JavaScript ä»£ç äº†ã€‚</p>
<h3><a class="anchor" aria-hidden="true" id="æµ‹è¯•é›†æˆç»“æœ-1"></a><a href="#æµ‹è¯•é›†æˆç»“æœ-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>æµ‹è¯•é›†æˆç»“æœ</h3>
<p>You have now done all the basic steps to integrate React Native with your current application. Now we will start the React Native packager to build the <code>index.bundle</code> package and the server running on localhost to serve it.</p>
<h5><a class="anchor" aria-hidden="true" id="1-è¿è¡Œ-packager"></a><a href="#1-è¿è¡Œ-packager" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. è¿è¡Œ Packager</h5>
<p>è¿è¡Œåº”ç”¨é¦–å…ˆéœ€è¦å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆPackagerï¼‰ã€‚ä½ åªéœ€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p>
<pre><code class="hljs">$ npm start
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="2-è¿è¡Œä½ çš„åº”ç”¨"></a><a href="#2-è¿è¡Œä½ çš„åº”ç”¨" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. è¿è¡Œä½ çš„åº”ç”¨</h5>
<p>ä¿æŒ packager çš„çª—å£è¿è¡Œä¸è¦å…³é—­ï¼Œç„¶ååƒå¾€å¸¸ä¸€æ ·ç¼–è¯‘è¿è¡Œä½ çš„ Android åº”ç”¨(åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ<code>./gradlew installDebug</code>æˆ–æ˜¯åœ¨ Android Studio ä¸­ç¼–è¯‘è¿è¡Œ)ã€‚</p>
<blockquote>
<p>å¦‚æœä½ æ˜¯ä½¿ç”¨ Android Studio æ¥ç¼–è¯‘è¿è¡Œï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´ packager æŠ¥é”™é€€å‡ºã€‚è¿™ç§æƒ…å†µä¸‹ä½ éœ€è¦å®‰è£…<a href="https://facebook.github.io/watchman/">watchman</a>ã€‚ä½†æ˜¯ watchman ç›®å‰æ²¡æœ‰ç¨³å®šçš„ Windows ç‰ˆæœ¬ï¼Œæ‰€ä»¥åœ¨ Windows ä¸‹è¿™ç§å´©æºƒæƒ…å†µæš‚æ—¶æ²¡æœ‰ç‰¹åˆ«å¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<p>ç¼–è¯‘æ‰§è¡Œä¸€åˆ‡é¡ºåˆ©è¿›è¡Œä¹‹åï¼Œåœ¨è¿›å…¥åˆ° MyReactActivity æ—¶åº”è¯¥å°±èƒ½ç«‹åˆ»ä» packager ä¸­è¯»å– JavaScript ä»£ç å¹¶æ‰§è¡Œå’Œæ˜¾ç¤ºï¼š</p>
<p><img src="/img/EmbeddedAppAndroid.png" alt="Screenshot"></p>
<h3><a class="anchor" aria-hidden="true" id="åœ¨-android-studio-ä¸­æ‰“åŒ…"></a><a href="#åœ¨-android-studio-ä¸­æ‰“åŒ…" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>åœ¨ Android Studio ä¸­æ‰“åŒ…</h3>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Android Studio æ¥æ‰“ release åŒ…ï¼å…¶æ­¥éª¤åŸºæœ¬å’ŒåŸç”Ÿåº”ç”¨ä¸€æ ·ï¼Œåªæ˜¯åœ¨æ¯æ¬¡ç¼–è¯‘æ‰“åŒ…ä¹‹å‰éœ€è¦å…ˆæ‰§è¡Œ js æ–‡ä»¶çš„æ‰“åŒ…(å³ç”Ÿæˆç¦»çº¿çš„ jsbundle æ–‡ä»¶)ã€‚å…·ä½“çš„ js æ‰“åŒ…å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs">$ react-native bundle --platform android --dev false --entry-file index.js --bundle-output android/com/your-company-name/app-package-name/src/main/assets/index.android.bundle --assets-dest android/com/your-company-name/app-package-name/src/main/res/
</code></pre>
<p>æ³¨æ„æŠŠä¸Šè¿°å‘½ä»¤ä¸­çš„è·¯å¾„æ›¿æ¢ä¸ºä½ å®é™…é¡¹ç›®çš„è·¯å¾„ã€‚å¦‚æœ assets ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™éœ€è¦æå‰è‡ªå·±åˆ›å»ºä¸€ä¸ªã€‚</p>
<p>ç„¶ååœ¨ Android Studio ä¸­æ­£å¸¸ç”Ÿæˆ release ç‰ˆæœ¬å³å¯ï¼</p>
</div>
<div markdown class="md-block android objc swift">
<h3><a class="anchor" aria-hidden="true" id="ç„¶åå‘¢ï¼Ÿ"></a><a href="#ç„¶åå‘¢ï¼Ÿ" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ç„¶åå‘¢ï¼Ÿ</h3>
<p>ç„¶åå°±å¯ä»¥å¼€å‘å•¦~å¯æ˜¯æˆ‘å®Œå…¨ä¸ä¼š React Native æ€ä¹ˆåŠï¼Ÿ</p>
<p>æˆ‘ä»¬å»ºè®®ä½ å…ˆé€šè¯»æœ¬ç«™çš„æ‰€æœ‰æ–‡æ¡£ï¼Œçœ‹çœ‹åšå®¢ï¼Œçœ‹çœ‹è®ºå›ã€‚å¦‚æœè§‰å¾—çŸ¥è¯†å¤ªé›¶æ•£ï¼Œä¸å¤Ÿç³»ç»Ÿï¼Œé‚£ä¹ˆä½ ä¹Ÿå¯ä»¥è€ƒè™‘ä¸‹è´­ä¹°æˆ‘ä»¬çš„<a href="https://ke.qq.com/course/197101">å…¥é—¨è¯¾ç¨‹</a>ï¼ˆé“¾æ¥é‡Œæœ‰ç›®å½•ï¼Œç›®å½•é‡Œæœ‰ä¸€äº›å…è´¹è¯•å¬å†…å®¹ï¼‰ã€‚</p>
</div>
<script>
window.display = function (type, value) {
  var container = document.querySelector('.md-block').parentNode;
  container.className = 'display-' + type + '-' + value + ' ' +
    container.className.replace(RegExp('display-' + type + '-[a-z]+ ?'), '');
}
// If we are coming to the page with a hash in it (i.e. from a search, for example), try to get
// us as close as possible to the correct platform and dev os using the hashtag and block walk up.
var foundHash = false;
if (window.location.hash !== '' && window.location.hash !== 'content') { // content is default
  var hashLinks = document.querySelectorAll('a.hash-link');
  for (var i = 0; i < hashLinks.length && !foundHash; ++i) {
    if (hashLinks[i].hash === window.location.hash) {
      var parent = hashLinks[i].parentElement;
      while (parent) {
        if (parent.tagName === 'BLOCK') {
          var targetPlatform = null;
          // Could be more than one target platform, but just choose some sort of order
          // of priority here.
          // Target Platform
          if (parent.className.indexOf('objc') > -1) {
            targetPlatform = 'objc';
          } else if (parent.className.indexOf('swift') > -1) {
            targetPlatform = 'swift';
          } else if (parent.className.indexOf('android') > -1) {
            targetPlatform = 'android';
          } else {
            break; // assume we don't have anything.
          }
          // We would have broken out if both targetPlatform and devOS hadn't been filled.
          display('platform', targetPlatform);
          foundHash = true;
          break;
        }
        parent = parent.parentElement;
      }
    }
  }
}
// Do the default if there is no matching hash
if (!foundHash) {
  var isMac = navigator.platform === 'MacIntel';
  display('platform', isMac ? 'objc' : 'android');
}
</script>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/0.49/more-resources"><span class="arrow-prev">â† </span><span>å…¶ä»–å‚è€ƒèµ„æº</span></a><a class="docs-next button" href="/docs/0.49/navigation"><span>ä½¿ç”¨å¯¼èˆªå™¨è·³è½¬é¡µé¢</span><span class="arrow-next"> â†’</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#æ ¸å¿ƒæ¦‚å¿µ">æ ¸å¿ƒæ¦‚å¿µ</a></li><li><a href="#å¼€å‘ç¯å¢ƒå‡†å¤‡">å¼€å‘ç¯å¢ƒå‡†å¤‡</a><ul class="toc-headings"><li><a href="#1-è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„">1. è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„</a></li><li><a href="#1-è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„-1">1. è®¾ç½®é¡¹ç›®ç›®å½•ç»“æ„</a></li><li><a href="#2-å®‰è£…-javascript-ä¾èµ–åŒ…">2. å®‰è£… JavaScript ä¾èµ–åŒ…</a></li><li><a href="#3-å®‰è£…-cocoapods">3. å®‰è£… CocoaPods</a></li></ul></li><li><a href="#æŠŠ-react-native-æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­">æŠŠ React Native æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­</a><ul class="toc-headings"><li><a href="#é…ç½®-cocoapods-çš„ä¾èµ–">é…ç½® CocoaPods çš„ä¾èµ–</a></li><li><a href="#ä»£ç é›†æˆ">ä»£ç é›†æˆ</a></li><li><a href="#æµ‹è¯•é›†æˆç»“æœ">æµ‹è¯•é›†æˆç»“æœ</a></li><li><a href="#çœ‹ä¸€ä¸‹å®Œæ•´çš„ä»£ç å˜æ›´">çœ‹ä¸€ä¸‹å®Œæ•´çš„ä»£ç å˜æ›´</a></li></ul></li><li><a href="#æŠŠ-react-native-æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­-1">æŠŠ React Native æ·»åŠ åˆ°ä½ çš„åº”ç”¨ä¸­</a><ul class="toc-headings"><li><a href="#é…ç½®-maven">é…ç½® maven</a></li><li><a href="#é…ç½®æƒé™">é…ç½®æƒé™</a></li><li><a href="#ä»£ç é›†æˆ-1">ä»£ç é›†æˆ</a></li><li><a href="#æµ‹è¯•é›†æˆç»“æœ-1">æµ‹è¯•é›†æˆç»“æœ</a></li><li><a href="#åœ¨-android-studio-ä¸­æ‰“åŒ…">åœ¨ Android Studio ä¸­æ‰“åŒ…</a></li><li><a href="#ç„¶åå‘¢ï¼Ÿ">ç„¶åå‘¢ï¼Ÿ</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="copyright"><p style="color:inherit">React Nativeä¸­æ–‡ç½‘ Â© 2020 æ­¦æ±‰é’ç½—ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸</p><p style="color:inherit"><a href="http://beian.miit.gov.cn/">é„‚ICPå¤‡20002031å·</a><img src="https://img.alicdn.com/tfs/TB1..50QpXXXXX7XpXXXXXXXXXX-40-40.png" alt="é„‚å…¬ç½‘å®‰å¤‡ 42011202001821å·"/><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=42011202001821">é„‚å…¬ç½‘å®‰å¤‡ 42011202001821å·</a></p></section><script>
        (function(){
          var c = document.createElement("div");
          c.setAttribute("id", "lv-container");
          c.setAttribute("data-id", "city");
          c.setAttribute("data-uid", "MTAyMC8zODM4NS8xNDkxMw==");
          var container = document.querySelector(".mainContainer")
          container && container.appendChild(c);
        })()
        </script><script src="https://cdn-city.livere.com/js/embed.dist.js"></script></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '7ab53ed26928639bae06ef0f6165f68b',
                indexName: 'reactnative_cn',
                inputSelector: '#search_input_react',
                algoliaOptions: {"hitsPerPage":5}
              });
            </script></body></html>